<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <title>Register | Veltrix - Admin & Dashboard Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description">
    <meta content="Themesbrand" name="author">
    <!-- App favicon -->
    <link rel="shortcut icon" href="../assets/images/favicon.ico">


    <!-- Bootstrap Css -->
    <link href="../assets/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css">
    <!-- Icons Css -->
    <link href="../assets/css/icons.min.css" rel="stylesheet" type="text/css">
    <!-- App Css-->
    <link href="../assets/css/app.min.css" id="app-style" rel="stylesheet" type="text/css">

</head>

<body onload="LoadProduce()">

    <div class="home-btn d-none d-sm-block">
        <a href="../index.html" class="text-dark"><i class="fas fa-home h2"></i></a>
    </div>
    <div class="account-pages my-5 pt-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8 col-lg-6 col-xl-4">
                    <div class="card overflow-hidden">
                        <div class="bg-primary">
                            <div class="text-primary text-center p-4">
                                <h5 class="text-white font-size-20">Free Farmer Registration</h5>
                                <p class="text-white-50">Get your free EasyProduce account now.</p>
                                <!-- <a href="../index.html" class="logo logo-admin"> -->
                                <!-- <img src="../assets/images/logo-sm.png" height="24" alt="logo"> -->
                                <!-- </a> -->
                            </div>
                        </div>

                        <div class="card-body p-4">
                            <div class="p-3">
                                <form class=" mt-4" id="farmer-form">

                                    <div class="mb-3" id="produceTypesSelect" style="
                                        border: 1px solid lightgrey;
                                        padding: 20px;
                                    ">
                                        <h2 class="text-center mb-3">Select Products</h2>
                                    </div>

                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="farm-name">Farm Name</label> -->
                                        <input type="text" class="form-control" name="farmName"
                                            placeholder="Enter Your FarmName">
                                    </div>
                                    <!-- <div class="mb-3">
                                      
                                        <input type="text" class="form-control" hidden name="FirstName"
                                            placeholder="Enter Your First Name" value="Adewale" id="farmer-form">
                                    </div> -->
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="first-name">First Name</label> -->
                                        <input type="text" class="form-control" name="firstName"
                                            placeholder="Enter Your First Name">
                                    </div>
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="last-name">Last Name</label> -->
                                        <input type="text" class="form-control" name="lastName"
                                            placeholder="Enter Your Last Name">
                                    </div>
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="email">Email</label> -->
                                        <input type="email" class="form-control" id="" value="" name="email"
                                            placeholder="Enter Your Email">
                                    </div>
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="username">Phone Number</label> -->
                                        <input type="text" class="form-control" name="phoneNumber"
                                            placeholder="Enter Your Phone Number">
                                    </div>
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="password">Password</label> -->
                                        <input type="password" class="form-control" name="password"
                                            placeholder="Enter Password">

                                    </div>
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="password">Confirm Password</label> -->
                                        <input type="password" class="form-control" name="confirmPassword"
                                            placeholder="Confirm Password">
                                    </div>
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="last-name">Address</label> -->
                                        <input type="text" class="form-control" name="address"
                                            placeholder="Enter Your Address">
                                    </div>
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="picture">Picture</label> -->
                                        <input type="file" class="form-control" name="profilePicture"
                                            placeholder="choose profile picture">
                                    </div>
                                    <div class="row mb-3">
                                        <label class="col-sm-2 col-form-label">Gender</label>
                                        <div class="col-sm-10">
                                            <select class="form-select" aria-label="Default select example"
                                                name="gender">
                                                <option value="1">Male</option>
                                                <option value="2">Female</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="account-number">Account Number</label> -->
                                        <input type="number" class="form-control" name="accountNumber"
                                            placeholder="Enter Your AccountNumber">
                                    </div>
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="account-name">Account Name</label> -->
                                        <input type="text" class="form-control" name="accountName"
                                            placeholder="Enter Your AccountName">
                                    </div>
                                    <div class="mb-3">
                                        <!-- <label class="form-label" for="bank-name">Bank Name</label> -->
                                        <input type="text" class="form-control" name="bankName"
                                            placeholder="Enter Your BankName">
                                    </div>

                                    <div class="mb-3 row">
                                        <div class="col-12 text-end">
                                            <button class="btn btn-primary w-md waves-effect waves-light" type="submit"
                                                id="submit-farmer">Register</button>
                                            <p id="error"></p>
                                        </div>
                                    </div>

                                    <div class="mt-2 mb-0 row">
                                        <div class="col-12 mt-4">
                                            <p class="mb-0">By registering you agree to the Veltrix <a href="#"
                                                    class="text-primary">Terms of Use</a></p>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="mt-5 text-center">
                        <p>Already have an account ? <a href="../pages-login.html" class="fw-medium text-primary"> Login
                            </a> </p>
                        <p>Â©
                            <script>document.write(new Date().getFullYear())</script> Veltrix. Crafted with <i
                                class="mdi mdi-heart text-danger"></i> by Themesbrand
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT -->
    <script src="../assets/libs/jquery/jquery.min.js"></script>
    <script src="../assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/libs/metismenu/metisMenu.min.js"></script>
    <script src="../assets/libs/simplebar/simplebar.min.js"></script>
    <script src="../assets/libs/node-waves/waves.min.js"></script>


    <script src="../assets/js/app.js"></script>



    <script>
        function LoadProduce() {

            fetch('http://localhost:5195/api/ProduceType/GetAllProduceType')
                .then(response => response.json())
                .then(res => {
                    const selectElement = document.getElementById('produceTypesSelect');
                    res.data.forEach(option => {
                        var divElement = document.createElement('div');
                        divElement.className = 'row mb-3 form-control'
                        selectElement.appendChild(divElement);


                        //creating the input element and given it a type of checkbox
                        var inputElement = document.createElement('input');
                        inputElement.type = 'checkbox';
                        inputElement.value = option.id;
                        inputElement.className = 'col-3';
                        inputElement.name = 'produceTypes';

                        //adding the input field to the div
                        divElement.appendChild(inputElement);

                        //creating the sapn element, text and adding the text to the span
                        var spanElement = document.createElement('span');
                        var txt = document.createTextNode(option.typeName);
                        spanElement.append(txt);
                        spanElement.className = 'col-9';

                        //adding the span to the div
                        divElement.appendChild(spanElement);

                        //creating a br element and adding it to the div to go to the next line after every iteration
                        // var breakElement = document.createElement('br');
                        // divElement.appendChild(breakElement);
                    });

                })
        };

      
        document.querySelector('#farmer-form').addEventListener('submit', e => {
            e.preventDefault();
            let formElement = document.querySelector('#farmer-form');
            const formData = new FormData(formElement);
            console.log(formData.get('email'));
            fetch('http://localhost:5195/api/Farmer/RegisterFarmer', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    if (data.status == true) {
                        window.alert(1)

                    } else {
                        document.getElementById('error').innerHTML = data.message;
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        });

    </script>


</body>

</html>